{"version":3,"sources":["./src/app/clazz/clazz.module.ts","./src/app/clazz/clazz.component.ts","./src/app/clazz/clazz.component.html","./src/app/clazz/edit/edit.component.ts","./src/app/clazz/edit/edit.component.html","./src/app/clazz/add/add.component.ts","./src/app/clazz/add/add.component.html","./src/app/clazz/klass-select/klass-select.component.ts","./src/app/clazz/klass-select/klass-select.component.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuC;AACM;AACI;AACe;AACW;AAC1B;AAEG;AACC;AACP;;;AAE9C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAc;KAC1B;IACD;QACE,IAAI,EAAE,KAAK;QACX,SAAS,EAAE,+DAAY;KACxB;IACD;QACE,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,kEAAa;KACzB;CACF,CAAC;AAYK,MAAM,WAAW;;0FAAX,WAAW;gJAAX,WAAW,kBARb;YACP,4DAAY;YACZ,0DAAW;YACX,4DAAU;YACV,kEAAmB;YACnB,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;mIAEU,WAAW,mBATP,+DAAY,EAAE,yFAAoB,EAAE,+DAAc,EAAE,kEAAa,aAE9E,4DAAY;QACZ,0DAAW;QACX,4DAAU;QACV,kEAAmB;6FAIV,WAAW;cAVvB,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,+DAAY,EAAE,yFAAoB,EAAE,+DAAc,EAAE,kEAAa,CAAC;gBACjF,OAAO,EAAE;oBACP,4DAAY;oBACZ,0DAAW;oBACX,4DAAU;oBACV,kEAAmB;oBACnB,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;iBAC9B;aACF;;;;;;;;;;;;;;ACnCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACZ;AAEwB;;;;;;;;ICa1D,qEACE;IAAA,qEAAI;IAAA,uDAAa;IAAA,4DAAK;IACtB,qEAAI;IAAA,uDAAc;IAAA,4DAAK;IACvB,qEAAI;IAAA,uDAAsB;IAAA,4DAAK;IAC/B,qEACE;IAAA,uEACE;IAAA,kEAA0B;IAAA,yEAC5B;IAAA,4DAAI;IACJ,4EACI;IADwC,iYAAmC;IAC3E,oEAAgC;IAAA,yEAClC;IAAA,4DAAO;IACX,4DAAK;IACP,4DAAK;;;;IAXC,0DAAa;IAAb,6EAAa;IACb,0DAAc;IAAd,8EAAc;IACd,0DAAsB;IAAtB,sFAAsB;IAEkB,0DAA8B;IAA9B,4GAA8B;;ADXvE,MAAM,cAAc;IAezB,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAd1C,aAAa;QACb,SAAI,GAAG,CAAC,CAAC;QAET,UAAU;QACV,SAAI,GAAG,CAAC,CAAC;QAET,cAAc;QACd,aAAQ,GAAG,IAAI,iDAAI,CAAQ;YACzB,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,IAAI,CAAC,IAAI;YACjB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,gBAAgB,EAAE,CAAC;SACpB,CAAC,CAAC;IAGH,CAAC;IAED,QAAQ;QACN,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACnC,kCAAkC;QAClC,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,MAAM,CAAC,IAAY;QACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC;IAED,UAAU,CAAC,IAAI,GAAG,CAAC;QACjB,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAC9B,MAAM,UAAU,GAAG,IAAI,+DAAU,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;aAChE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAc,aAAa,EAAE,EAAC,MAAM,EAAE,UAAU,EAAC,CAAC;aAClE,SAAS,CAAC,QAAQ,CAAC,EAAE;YACpB,eAAe;YACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,KAAa,EAAE,OAAe;QACrC,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAC/C,MAAM,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;QACrC,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,MAAM,CAAO,SAAS,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;iBACzD,SAAS,CAAC,GAAG,EAAE;gBACd,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACzC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;SAC3C;IACH,CAAC;;4EApDU,cAAc;8FAAd,cAAc;QCV3B,yEACE;QAAA,yEACE;QAAA,uEAAmD;QAAA,kEAA2B;QAAA,uEAAE;QAAA,4DAAI;QACtF,4DAAM;QACR,4DAAM;QAEN,2EACE;QAAA,wEACA;QAAA,wEACE;QAAA,qEAAI;QAAA,uEAAE;QAAA,4DAAK;QACX,sEAAI;QAAA,wEAAE;QAAA,4DAAK;QACX,sEAAI;QAAA,8EAAG;QAAA,4DAAK;QACZ,sEAAI;QAAA,wEAAE;QAAA,4DAAK;QACb,4DAAK;QACL,4DAAQ;QACR,yEACA;QAAA,2GAYK;QACL,4DAAQ;QACV,4DAAQ;QAER,+EAA4D;QAAhC,6JAAgB,kBAAc,IAAC;QAAC,4DAAW;;QAhB/C,2DAAqB;QAArB,yFAAqB;QAgBnC,0DAAiB;QAAjB,8EAAiB;;6FDtBd,cAAc;cAL1B,uDAAS;eAAC;gBACT,QAAQ,EAAE,WAAW;gBACrB,WAAW,EAAE,wBAAwB;gBACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;aACrC;;;;;;;;;;;;;;AETD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AAGP;AACyB;;;;;;;;ICE5D,2EACE;IAAA,6GACF;IAAA,4DAAQ;;ADIP,MAAM,aAAa;IAexB,YAAoB,cAA8B,EAC9B,MAAc,EACd,UAAsB;QAFtB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,eAAU,GAAV,UAAU,CAAY;QAhB1C;;WAEG;QACH,oBAAe,GAAG,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC,CAAC;QAE3D;;WAEG;QACH,cAAS,GAAG,IAAI,wDAAS,CAAC;YACxB,EAAE,EAAE,IAAI,0DAAW,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC9C,IAAI,EAAE,IAAI,CAAC,eAAe;YAC1B,SAAS,EAAE,IAAI,0DAAW,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACtD,CAAC,CAAC;IAKH,CAAC;IAED,QAAQ;QACN,MAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;QAClD,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IACrB,CAAC;IAED;;;OAGG;IACH,QAAQ,CAAC,EAAU;;QACjB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACxB,UAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,0CAAE,QAAQ,CAAC,EAAE,EAAE;QACvC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAQ,SAAS,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC;aAClD,SAAS,CAAC,KAAK,CAAC,EAAE;;YACjB,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;YAChC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC5C,UAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,0CAAE,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE;QAC9D,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,eAAe,CAAC,MAAc;;QAC5B,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;QACxC,UAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,0CAAE,QAAQ,CAAC,MAAM,EAAE;IACpD,CAAC;IAED,QAAQ;;QACN,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,MAAM,OAAO,SAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,0CAAE,KAAK,CAAC;QAChD,MAAM,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;QACxC,MAAM,SAAS,SAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,0CAAE,KAAK,CAAC;QACzD,MAAM,KAAK,GAAG,IAAI,mDAAK,CAAC;YACtB,IAAI;YACJ,OAAO,EAAE,EAAC,EAAE,EAAE,SAAS,EAAY;SACpC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,GAAG,CAAQ,UAAU,OAAO,EAAE,EAAE,KAAK,CAAC;aACnD,SAAS,CACR,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAC,CAAC,EACzE,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IACnC,CAAC;;0EA1DU,aAAa;6FAAb,aAAa;QCZ1B,0EACE;QADyB,yIAAY,cAAU,IAAC;QAChD,yEACE;QAAA,2EAAuC;QAAA,uEAAE;QAAA,4DAAQ;QACjD,yEACE;QAAA,uDACA;QAAA,sEACA;QAAA,6GAEQ;QACV,4DAAM;QACR,4DAAM;QACN,yEACE;QAAA,2EAAuC;QAAA,8EAAG;QAAA,4DAAQ;QAClD,0EACE;QAAA,kFAAiE;QACnE,4DAAM;QACR,4DAAM;QACN,0EACE;QAAA,0EACE;QAAA,6EAA+D;QAAA,yEAC/D;QAAA,4DAAS;QACX,4DAAM;QACR,4DAAM;QACR,4DAAO;;QAvB4C,oFAAuB;QAIpE,0DACA;QADA,uGACA;QAAwC,0DAA+B;QAA/B,4FAA+B;QAC3C,0DAA6B;QAA7B,6FAA6B;QAazB,0DAA8B;QAA9B,2FAA8B;;6FDPvD,aAAa;cALzB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,uBAAuB;gBACpC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;;;;;;;;;;;;;;AEXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AAEH;AACJ;;;;;;;;ICGnC,4EAEE;IAAA,6GACF;IAAA,4DAAQ;;;IAOR,4EAEE;IAAA,mHACF;IAAA,4DAAQ;;ADRP,MAAM,YAAY;IASvB,YAAoB,UAAsB,EACtB,MAAc;QADd,eAAU,GAAV,UAAU,CAAY;QACtB,WAAM,GAAN,MAAM,CAAQ;QAT1B,QAAG,GAAG,OAAO,CAAC;QACtB,UAAK,GAAG;YACN,IAAI,EAAE,EAAE;YACR,SAAS,EAAE,IAAyB;SACrC,CAAC;QAEF,aAAQ,GAAG,IAAI,KAAK,EAAW,CAAC;IAIhC,CAAC;IAED,QAAQ;QACN,SAAS;QACT,IAAI,CAAC,UAAU,CAAC,GAAG,CAAiB,SAAS,CAAC;aAC3C,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC;IACrD,CAAC;IAED,QAAQ;QACN,MAAM,QAAQ,GAAG,IAAI,mDAAK,CAAC;YACzB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;YACrB,OAAO,EAAE,IAAI,uDAAO,CAAC,EAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,CAAC;SACjD,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC;aACrC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,EACrD,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,eAAe,CAAC,SAAiB;QAC/B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;IACnC,CAAC;;wEA/BU,YAAY;4FAAZ,YAAY;QCXzB,sEAAK;QAAA,uDAAgB;;QAAA,4DAAM;QAC3B,0EACE;QADyB,wIAAY,cAAU,IAAC;QAChD,yEACE;QAAA,2EAAkD;QAAA,uEAAE;QAAA,4DAAQ;QAC5D,yEACE;QAAA,2EACA;QADwC,oLAAwB;QAAhE,4DACA;QAAA,4GAGQ;QACV,4DAAM;QACR,4DAAM;QACN,0EACE;QAAA,4EAAuC;QAAA,8EAAG;QAAA,4DAAQ;QAClD,0EACE;QAAA,uFAAuD;QAArC,2JAAY,2BAAuB,IAAC;QAAC,4DAAmB;QAC1E,8GAGQ;QACV,4DAAM;QACR,4DAAM;QACN,0EACE;QAAA,0EACE;QAAA,6EACmE;QAAA,yEACnE;QAAA,4DAAS;QACX,4DAAM;QACR,4DAAM;QACR,4DAAO;;QA7BF,0DAAgB;QAAhB,2IAAgB;QAKyB,0DAAwB;QAAxB,mFAAwB;QAExD,0DAAuB;QAAvB,uFAAuB;QAUvB,0DAA8B;QAA9B,8FAA8B;QAQ9B,0DAA0D;QAA1D,2HAA0D;;6FDd3D,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,SAAS;gBACnB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,qBAAqB,CAAC;aACnC;;;;;;;;;;;;;;AEVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyF;AAGL;;;;;;ICDlF,4EACE;IAAA,uDACF;IAAA,4DAAS;;;IAFgC,kFAAsB;IAC7D,0DACF;IADE,2FACF;;ADeK,MAAM,oBAAoB;IAa/B,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAZ1C,aAAQ,GAAG,IAAI,KAAK,EAAW,CAAC;QAChC,cAAS,GAAG,IAAI,0DAAW,EAAE,CAAC;QAS9B,aAAQ,GAAG,IAAI,0DAAY,EAAU,CAAC;IAGtC,CAAC;IAVD,IACI,EAAE,CAAC,EAAU;QACf,sBAAsB;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC;IAQD;;;;;OAKG;IACH,UAAU,CAAC,GAAW;QACpB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC;IAED;;;;OAIG;IACH,gBAAgB,CAAC,EAA0B;QACzC,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,YAAY;aACxB,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IACjC,CAAC;IAED,iBAAiB,CAAC,EAAO;QACvB,OAAO,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;IACpD,CAAC;IAED,QAAQ;QACN,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,cAAc;QACd,IAAI,CAAC,SAAS,CAAC,YAAY;aACxB,SAAS,CAAC,CAAC,IAAY,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACzD,SAAS;QACT,IAAI,CAAC,UAAU,CAAC,GAAG,CAAiB,SAAS,CAAC;aAC3C,SAAS,CACR,QAAQ,CAAC,EAAE;YACT,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACT,CAAC;;wFAtDU,oBAAoB;oGAApB,oBAAoB,0KAVpB;YACT;gBACE,OAAO,EAAE,gEAAiB,EAAE,KAAK,EAAE,IAAI;gBACvC,WAAW,EAAE,gEAAU,CAAC,GAAG,EAAE;oBAC3B,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;oBAClD,OAAO,oBAAoB,CAAC;gBAC9B,CAAC,CAAC;aACH;SACF;QCjBH,4EAEE;QAAA,sHAES;QACX,4DAAS;;QAJD,sFAAyB;QACH,0DAAW;QAAX,iFAAW;;6FDiB5B,oBAAoB;cAdhC,uDAAS;eAAC;gBACT,QAAQ,EAAE,kBAAkB;gBAC5B,WAAW,EAAE,+BAA+B;gBAC5C,SAAS,EAAE,CAAC,8BAA8B,CAAC;gBAC3C,SAAS,EAAE;oBACT;wBACE,OAAO,EAAE,gEAAiB,EAAE,KAAK,EAAE,IAAI;wBACvC,WAAW,EAAE,gEAAU,CAAC,GAAG,EAAE;4BAC3B,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;4BAClD,4BAA4B;wBAC9B,CAAC,CAAC;qBACH;iBACF;aACF;+GAMK,EAAE;kBADL,mDAAK;YAON,QAAQ;kBADP,oDAAM","file":"clazz-clazz-module.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AddComponent} from './add/add.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {KlassSelectComponent} from './klass-select/klass-select.component';\nimport {ClazzComponent} from './clazz.component';\nimport {PageComponent} from './page/page.component';\nimport {EditComponent} from './edit/edit.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {PageModule} from './page/page.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ClazzComponent\n  },\n  {\n    path: 'add',\n    component: AddComponent\n  },\n  {\n    path: 'edit/:id',\n    component: EditComponent\n  }\n];\n\n@NgModule({\n  declarations: [AddComponent, KlassSelectComponent, ClazzComponent, EditComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    PageModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ]\n})\nexport class ClazzModule {\n}\n","import {Component, OnInit} from '@angular/core';\nimport {Page} from '../entity/page';\nimport {Clazz} from '../entity/clazz';\nimport {HttpClient, HttpParams} from '@angular/common/http';\n\n@Component({\n  selector: 'app-clazz',\n  templateUrl: './clazz.component.html',\n  styleUrls: ['./clazz.component.css']\n})\nexport class ClazzComponent implements OnInit {\n  // 默认显示第1页的内容\n  page = 0;\n\n  // 每页默认为3条\n  size = 3;\n\n  // 初始化一个有0条数据的\n  pageData = new Page<Clazz>({\n    content: [],\n    number: this.page,\n    size: this.size,\n    numberOfElements: 0\n  });\n\n  constructor(private httpClient: HttpClient) {\n  }\n\n  ngOnInit(): void {\n    console.log('clazz组件调用ngOnInit()');\n    // 使用默认值 page = 0 调用loadByPage()方法\n    this.loadByPage();\n  }\n\n  onPage(page: number): void {\n    this.loadByPage(page);\n  }\n\n  loadByPage(page = 0): void {\n    console.log('触发loadByPage方法');\n    const httpParams = new HttpParams().append('page', page.toString())\n      .append('size', this.size.toString());\n    this.httpClient.get<Page<Clazz>>('/clazz/page', {params: httpParams})\n      .subscribe(pageData => {\n        // 在请求数据之后设置当前页\n        this.page = page;\n        console.log('clazz组件接收到返回数据，重新设置pageData');\n        this.pageData = pageData;\n        console.log(pageData);\n      });\n  }\n\n  onDelete(index: number, clazzId: number): void {\n    console.log('onDelete called', index, clazzId);\n    const result = confirm('该操作不可逆，请确认');\n    if (result) {\n      this.httpClient.delete<void>('/clazz/' + clazzId.toString())\n        .subscribe(() => {\n          console.log('删除成功');\n          this.pageData.content.splice(index, 1);\n        }, error => console.log('删除失败', error));\n    }\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-12 text-right\">\n    <a class=\"btn btn-primary mr-2\" routerLink=\"./add\"><i class=\"fas fa-plus\"></i>新增</a>\n  </div>\n</div>\n\n<table class=\"table table-striped mt-2\">\n  <thead>\n  <tr class=\"table-primary\">\n    <th>序号</th>\n    <th>名称</th>\n    <th>班主任</th>\n    <th>操作</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr *ngFor=\"let clazz of pageData.content; index as index\">\n    <td>{{index + 1}}</td>\n    <td>{{clazz.name}}</td>\n    <td>{{clazz.teacher.name}}</td>\n    <td>\n      <a class=\"btn btn-outline-primary btn-sm\" routerLink=\"edit/{{clazz.id}}\">\n        <i class=\"fas fa-pen\"></i>编辑\n      </a>\n      <span class=\"btn btn-sm btn-outline-danger\" (click)=\"onDelete(index, clazz.id)\">\n          <i class=\"far fa-trash-alt\"></i>删除\n        </span>\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<app-page [page]=\"pageData\" (bePageChange)=\"onPage($event)\"></app-page>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {HttpClient} from '@angular/common/http';\nimport {Clazz} from '../../entity/clazz';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {Teacher} from '../../entity/teacher';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css']\n})\nexport class EditComponent implements OnInit {\n  /**\n   * 班级名称.\n   */\n  nameFormControl = new FormControl('', Validators.required);\n\n  /**\n   * 表单组，用于存放多个formControl\n   */\n  formGroup = new FormGroup({\n    id: new FormControl(null, Validators.required),\n    name: this.nameFormControl,\n    teacherId: new FormControl(null, Validators.required)\n  });\n\n  constructor(private activatedRoute: ActivatedRoute,\n              private router: Router,\n              private httpClient: HttpClient) {\n  }\n\n  ngOnInit(): void {\n    const id = this.activatedRoute.snapshot.params.id;\n    this.loadById(+id);\n  }\n\n  /**\n   * 由后台加载预编辑的班级.\n   * @param id 班级id.\n   */\n  loadById(id: number): void {\n    console.log('loadById');\n    this.formGroup.get('id')?.setValue(id);\n    this.httpClient.get<Clazz>('/clazz/' + id.toString())\n      .subscribe(clazz => {\n        console.log('接收到了clazz', clazz);\n        this.nameFormControl.patchValue(clazz.name);\n        this.formGroup.get('teacherId')?.setValue(clazz.teacher.id);\n      }, error => console.log(error));\n  }\n\n  onTeacherChange($event: number): void {\n    console.log('接收到了选择的teacherId', $event);\n    this.formGroup.get('teacherId')?.setValue($event);\n  }\n\n  onSubmit(): void {\n    console.log('点击了提交按钮');\n    const clazzId = this.formGroup.get('id')?.value;\n    const name = this.nameFormControl.value;\n    const teacherId = this.formGroup.get('teacherId')?.value;\n    const clazz = new Clazz({\n      name,\n      teacher: {id: teacherId} as Teacher\n    });\n    this.httpClient.put<Clazz>(`/clazz/${clazzId}`, clazz)\n      .subscribe(\n        () => this.router.navigate(['../../'], {relativeTo: this.activatedRoute}),\n        error => console.log(error));\n  }\n}\n","<form class=\"container-sm\" (ngSubmit)=\"onSubmit()\" [formGroup]=\"formGroup\">\n  <div class=\"mb-3 row\">\n    <label class=\"col-sm-2 col-form-label\">名称</label>\n    <div class=\"col-sm-10\">\n      {{nameFormControl.invalid}}\n      <input type=\"text\" class=\"form-control\" [formControl]=\"nameFormControl\">\n      <small class=\"text-danger\" *ngIf=\"nameFormControl.invalid\">\n        班级名称不能为空\n      </small>\n    </div>\n  </div>\n  <div class=\"mb-3 row\">\n    <label class=\"col-sm-2 col-form-label\">班主任</label>\n    <div class=\"col-sm-10\">\n      <app-klass-select formControlName=\"teacherId\"></app-klass-select>\n    </div>\n  </div>\n  <div class=\"mb-3 row\">\n    <div class=\"col-sm-10 offset-2\">\n      <button class=\"btn btn-primary\" [disabled]=\"formGroup.invalid\">保存\n      </button>\n    </div>\n  </div>\n</form>\n\n","import {Component, OnInit} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Teacher} from '../../entity/teacher';\nimport {Clazz} from '../../entity/clazz';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-add',\n  templateUrl: './add.component.html',\n  styleUrls: ['./add.component.css']\n})\nexport class AddComponent implements OnInit {\n  private url = 'clazz';\n  clazz = {\n    name: '',\n    teacherId: null as unknown as number\n  };\n\n  teachers = new Array<Teacher>();\n\n  constructor(private httpClient: HttpClient,\n              private router: Router) {\n  }\n\n  ngOnInit(): void {\n    // 获取所有教师\n    this.httpClient.get<Array<Teacher>>('teacher')\n      .subscribe(teachers => this.teachers = teachers);\n  }\n\n  onSubmit(): void {\n    const newClazz = new Clazz({\n      name: this.clazz.name,\n      teacher: new Teacher({id: this.clazz.teacherId})\n    });\n    this.httpClient.post(this.url, newClazz)\n      .subscribe(clazz => this.router.navigateByUrl('/clazz'),\n        error => console.log('保存失败', error));\n  }\n\n  onTeacherChange(teacherId: number): void {\n    this.clazz.teacherId = teacherId;\n  }\n}\n","<pre>{{clazz | json}}</pre>\n<form class=\"container-sm\" (ngSubmit)=\"onSubmit()\">\n  <div class=\"mb-3 row\">\n    <label for=\"name\" class=\"col-sm-2 col-form-label\">名称</label>\n    <div class=\"col-sm-10\">\n      <input type=\"text\" class=\"form-control\" [(ngModel)]=\"clazz.name\" name=\"name\" id=\"name\">\n      <small class=\"text-danger\"\n             *ngIf=\"clazz.name === ''\">\n        班级名称不能为空\n      </small>\n    </div>\n  </div>\n  <div class=\"mb-3 row\">\n    <label class=\"col-sm-2 col-form-label\">班主任</label>\n    <div class=\"col-sm-10\">\n      <app-klass-select (beChange)=\"onTeacherChange($event)\"></app-klass-select>\n      <small class=\"text-danger\"\n             *ngIf=\"clazz.teacherId === null\">\n        必须指定一个班主任\n      </small>\n    </div>\n  </div>\n  <div class=\"mb-3 row\">\n    <div class=\"col-sm-10 offset-2\">\n      <button class=\"btn btn-primary\"\n              [disabled]=\"clazz.name === '' || clazz.teacherId === null\">保存\n      </button>\n    </div>\n  </div>\n</form>\n\n","import {Component, OnInit, EventEmitter, Output, Input, forwardRef} from '@angular/core';\nimport {Teacher} from '../../entity/teacher';\nimport {HttpClient} from '@angular/common/http';\nimport {ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'app-klass-select',\n  templateUrl: './klass-select.component.html',\n  styleUrls: ['./klass-select.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR, multi: true,\n      useExisting: forwardRef(() => {\n        console.log('useExisting->forwardRef中的回调方法被调用一次');\n        return KlassSelectComponent;\n      })\n    }\n  ]\n})\nexport class KlassSelectComponent implements OnInit, ControlValueAccessor {\n  teachers = new Array<Teacher>();\n  teacherId = new FormControl();\n\n  @Input()\n  set id(id: number) {\n    // 使用接收到的id设置teacherId\n    this.teacherId.setValue(id);\n  }\n\n  @Output()\n  beChange = new EventEmitter<number>();\n\n  constructor(private httpClient: HttpClient) {\n  }\n\n  /**\n   * 将FormControl中的值通过此方法写入\n   * FormControl的值每变换一次，该方法将被重新执行一次\n   * 相当于@Input() set xxx\n   * @param obj 此类型取决于当前组件的接收类型，比如此时我们接收一个类型为number的teacherId\n   */\n  writeValue(obj: number): void {\n    console.log('writeValue is called');\n    this.teacherId.setValue(obj);\n  }\n\n  /**\n   * 组件需要向父组件弹值时，直接调用参数中的fn方法\n   * 相当于@Output()\n   * @param fn 此类型取决于当前组件的弹出值类型，比如我们当前将弹出一个类型为number的teacherId\n   */\n  registerOnChange(fn: (data: number) => void): void {\n    console.log(`registerOnChange is called`);\n    this.teacherId.valueChanges\n      .subscribe(data => fn(data));\n  }\n\n  registerOnTouched(fn: any): void {\n    console.warn('registerOnTouched not implemented');\n  }\n\n  ngOnInit(): void {\n    console.log('教师选择组件初始化');\n    // 关注teacherId\n    this.teacherId.valueChanges\n      .subscribe((data: number) => this.beChange.emit(data));\n    // 获取所有教师\n    this.httpClient.get<Array<Teacher>>('teacher')\n      .subscribe(\n        teachers => {\n          this.teachers = teachers;\n          console.log('教师选择组件接收到了数据');\n        });\n  }\n}\n","<select id=\"teacherId\" class=\"form-control\"\n        [formControl]=\"teacherId\">\n  <option *ngFor=\"let teacher of teachers\" [ngValue]=\"teacher.id\">\n    {{teacher.name}}\n  </option>\n</select>\n"],"sourceRoot":"webpack:///"}